# 구현 계획: [기능 이름]

**상태**: 🔄 진행 중
**시작일**: YYYY-MM-DD
**최종 업데이트**: YYYY-MM-DD
**예상 완료일**: YYYY-MM-DD

---

**⚠️ 중요 지침**: 각 Phase 완료 후:
1. ✅ 완료된 작업 체크박스 체크
2. 🧪 모든 Quality Gate 검증 명령어 실행
3. ⚠️ 모든 Quality Gate 항목 통과 확인
4. 📅 위의 "최종 업데이트" 날짜 갱신
5. 📝 참고 섹션에 배운 점 기록
6. ➡️ 그 후에만 다음 Phase로 진행

⛔ **Quality Gate를 건너뛰거나 체크 실패 상태로 진행하지 마시오**

---

## 📋 개요

### 기능 설명
[이 기능이 무엇을 하며 왜 필요한지]

### 성공 기준
- [ ] 기준 1
- [ ] 기준 2
- [ ] 기준 3

### 사용자 영향
[사용자에게 어떤 이점을 주거나 제품을 어떻게 개선하는지]

---

## 🏗️ 아키텍처 결정

| 결정 | 근거 | 트레이드오프 |
|------|------|--------------|
| [결정 1] | [이 접근 방식의 이유] | [포기하는 것] |
| [결정 2] | [이 접근 방식의 이유] | [포기하는 것] |

---

## 📦 의존성

### 시작 전 요구사항
- [ ] 의존성 1: [설명]
- [ ] 의존성 2: [설명]

### 외부 의존성
- 패키지/라이브러리 1: 버전 X.Y.Z
- 패키지/라이브러리 2: 버전 X.Y.Z

---

## 🧪 테스트 전략

### 테스팅 접근 방식
**TDD 원칙**: 테스트를 먼저 작성하고, 그 후 테스트를 통과시키도록 구현

### 이 기능의 테스트 피라미드
| 테스트 유형 | 커버리지 목표 | 목적 |
|-------------|---------------|------|
| **단위 테스트** | ≥80% | 비즈니스 로직, 모델, 핵심 알고리즘 |
| **통합 테스트** | 핵심 경로 | 컴포넌트 상호작용, 데이터 흐름 |
| **E2E 테스트** | 주요 사용자 흐름 | 전체 시스템 동작 검증 |

### 테스트 파일 구조
```
test/
├── unit/
│   ├── [domain/business_logic]/
│   └── [data/models]/
├── integration/
│   └── [feature_name]/
└── e2e/
    └── [user_flows]/
```

### Phase별 커버리지 요구사항
- **Phase 1 (기반)**: 핵심 모델/엔티티 단위 테스트 (≥80%)
- **Phase 2 (비즈니스 로직)**: 로직 + 리포지토리 테스트 (≥80%)
- **Phase 3 (통합)**: 컴포넌트 통합 테스트 (≥70%)
- **Phase 4 (E2E)**: End-to-end 사용자 흐름 테스트 (1개 이상의 핵심 경로)

### 테스트 네이밍 컨벤션
프로젝트의 테스트 프레임워크 컨벤션을 따르세요:
```
// 예시 구조 (프레임워크에 맞게 조정):
describe/group: 기능 또는 컴포넌트 이름
  test/it: 테스트 대상 특정동작
    // Arrange → Act → Assert 패턴
```

---

## 🚀 구현 Phases

### Phase 1: [기반 Phase 이름]
**목표**: [이 Phase가 제공하는 구체적인 작동 기능]
**예상 시간**: X 시간
**상태**: ⏳ 대기 | 🔄 진행 중 | ✅ 완료

#### 작업

**🔴 RED: 실패하는 테스트 먼저 작성**
- [ ] **테스트 1.1**: [특정 기능]에 대한 단위 테스트 작성
  - 파일: `test/unit/[feature]/[component]_test.*`
  - 예상: 기능이 아직 없으므로 테스트 실패 (Red)
  - 세부사항: 다음을 포함하는 테스트 케이스:
    - 해피 패스 시나리오
    - 엣지 케이스
    - 오류 조건

- [ ] **테스트 1.2**: [컴포넌트 상호작용]에 대한 통합 테스트 작성
  - 파일: `test/integration/[feature]_test.*`
  - 예상: 통합이 아직 없으므로 테스트 실패 (Red)
  - 세부사항: [목록 컴포넌트] 간의 상호작용 테스트

**🟢 GREEN: 테스트 통과를 위한 구현**
- [ ] **작업 1.3**: [컴포넌트/모듈] 구현
  - 파일: `src/[layer]/[component].*`
  - 목표: 최소한의 코드로 테스트 1.1 통과
  - 세부사항: [구현 노트]

- [ ] **작업 1.4**: [통합/글루 코드] 구현
  - 파일: `src/[layer]/[integration].*`
  - 목표: 테스트 1.2 통과
  - 세부사항: [구현 노트]

**🔵 REFACTOR: 코드 정리**
- [ ] **작업 1.5**: 코드 품질을 위한 리팩터링
  - 파일: 이 Phase의 모든 새 코드 검토
  - 목표: 테스트를 깨뜨리지 않고 설계 개선
  - 체크리스트:
    - [ ] 중복 제거 (DRY 원칙)
    - [ ] 네이밍 명확성 개선
    - [ ] 재사용 가능한 컴포넌트 추출
    - [ ] 인라인 문서 추가
    - [ ] 필요 시 성능 최적화

#### Quality Gate ✋

**⚠️ 정지: 모든 체크가 통과할 때까지 Phase 2로 진행하지 마시오**

**TDD 준수** (중요):
- [ ] **Red Phase**: 테스트를 먼저 작성했고 초기에 실패했음
- [ ] **Green Phase**: 테스트를 통과시키기 위해 프로덕션 코드를 작성했음
- [ ] **Refactor Phase**: 테스트가 통과하는 상태에서 코드를 개선했음
- [ ] **커버리지 체크**: 테스트 커버리지가 요구사항을 충족함
  ```bash
  # 예시 명령어 (테스트 프레임워크에 맞게 조정):
  # npm test -- --coverage
  # pytest --cov=src --cov-report=html
  # dotnet test /p:CollectCoverage=true
  # go test -cover ./...

  [Your project's coverage command here]
  ```

**빌드 및 테스트**:
- [ ] **빌드**: 프로젝트가 오류 없이 빌드/컴파일됨
- [ ] **모든 테스트 통과**: 100% 테스트 통과 (건너뛴 테스트 없음)
- [ ] **테스트 성능**: 테스트 스위트가 허용 가능한 시간 내에 완료됨
- [ ] **Flaky 테스트 없음**: 테스트가 일관되게 통과함 (3회 이상 실행)

**코드 품질**:
- [ ] **린트(Linting)**: 린트 오류나 경고 없음
- [ ] **포맷팅**: 프로젝트 표준에 따라 코드 포맷팅됨
- [ ] **타입 안전성**: 타입 체커 통과 (해당되는 경우)
- [ ] **정적 분석**: 정적 분석 도구에서 치명적인 문제 없음

**보안 및 성능**:
- [ ] **의존성**: 알려진 보안 취약점 없음
- [ ] **성능**: 성능 저하(regression) 없음
- [ ] **메모리**: 메모리 누수나 자원 문제 없음
- [ ] **오류 처리**: 적절한 오류 처리 구현됨

**문서화**:
- [ ] **코드 주석**: 복잡한 로직 문서화됨
- [ ] **API 문서**: 공개 인터페이스 문서화됨
- [ ] **README**: 필요 시 사용법 지침 업데이트됨

**수동 테스팅**:
- [ ] **기능성**: 기능이 예상대로 작동함
- [ ] **엣지 케이스**: 경계 조건 테스트됨
- [ ] **오류 상태**: 오류 처리 검증됨

**검증 명령어** (프로젝트에 맞게 사용자 정의):
```bash
# Test Commands
[your test runner command]

# Coverage Check
[your coverage command]

# Code Quality
[your linter command]
[your formatter check command]
[your type checker command]

# Build Verification
[your build command]

# Security Audit
[your dependency audit command]

# Example for different ecosystems:
# JavaScript/TypeScript: npm test && npm run lint && npm run type-check
# Python: pytest && black --check . && mypy .
# Java: mvn test && mvn checkstyle:check
# Go: go test ./... && golangci-lint run
# .NET: dotnet test && dotnet format --verify-no-changes
# Ruby: bundle exec rspec && rubocop
# Rust: cargo test && cargo clippy
```

**수동 테스트 체크리스트**:
- [ ] 테스트 케이스 1: [검증할 특정 시나리오]
- [ ] 테스트 케이스 2: [검증할 엣지 케이스]
- [ ] 테스트 케이스 3: [검증할 오류 처리]

---

### Phase 2: [핵심 기능 Phase 이름]
**목표**: [구체적 결과물]
**예상 시간**: X 시간
**상태**: ⏳ 대기 | 🔄 진행 중 | ✅ 완료

#### 작업

**🔴 RED: 실패하는 테스트 먼저 작성**
- [ ] **테스트 2.1**: [구체적 기능]에 대한 단위 테스트 작성
  - 파일: `test/unit/[feature]/[component]_test.*`
  - 예상: 기능이 아직 없으므로 테스트 실패 (Red)
  - 세부사항: 다음을 포함하는 테스트 케이스:
    - 해피 패스 시나리오
    - 엣지 케이스
    - 오류 조건

- [ ] **테스트 2.2**: [컴포넌트 상호작용]에 대한 통합 테스트 작성
  - 파일: `test/integration/[feature]_test.*`
  - 예상: 통합이 아직 없으므로 테스트 실패 (Red)
  - 세부사항: [목록 컴포넌트] 간의 상호작용 테스트

**🟢 GREEN: 테스트 통과를 위한 구현**
- [ ] **작업 2.3**: [컴포넌트/모듈] 구현
  - 파일: `src/[layer]/[component].*`
  - 목표: 최소한의 코드로 테스트 2.1 통과
  - 세부사항: [구현 노트]

- [ ] **작업 2.4**: [통합/글루 코드] 구현
  - 파일: `src/[layer]/[integration].*`
  - 목표: 테스트 2.2 통과
  - 세부사항: [구현 노트]

**🔵 REFACTOR: 코드 정리**
- [ ] **작업 2.5**: 코드 품질을 위한 리팩터링
  - 파일: 이 Phase의 모든 새 코드 검토
  - 목표: 테스트를 깨뜨리지 않고 설계 개선
  - 체크리스트:
    - [ ] 중복 제거 (DRY 원칙)
    - [ ] 네이밍 명확성 개선
    - [ ] 재사용 가능한 컴포넌트 추출
    - [ ] 인라인 문서 추가
    - [ ] 필요 시 성능 최적화

#### Quality Gate ✋

**⚠️ 정지: 모든 체크가 통과할 때까지 Phase 3으로 진행하지 마시오**

**TDD 준수** (중요):
- [ ] **Red Phase**: 테스트를 먼저 작성했고 초기에 실패했음
- [ ] **Green Phase**: 테스트를 통과시키기 위해 프로덕션 코드를 작성했음
- [ ] **Refactor Phase**: 테스트가 통과하는 상태에서 코드를 개선했음
- [ ] **커버리지 체크**: 테스트 커버리지가 요구사항을 충족함

**빌드 및 테스트**:
- [ ] **빌드**: 프로젝트가 오류 없이 빌드/컴파일됨
- [ ] **모든 테스트 통과**: 100% 테스트 통과 (건너뛴 테스트 없음)
- [ ] **테스트 성능**: 테스트 스위트가 허용 가능한 시간 내에 완료됨
- [ ] **Flaky 테스트 없음**: 테스트가 일관되게 통과함 (3회 이상 실행)

**코드 품질**:
- [ ] **린트(Linting)**: 린트 오류나 경고 없음
- [ ] **포맷팅**: 프로젝트 표준에 따라 코드 포맷팅됨
- [ ] **타입 안전성**: 타입 체커 통과 (해당되는 경우)
- [ ] **정적 분석**: 정적 분석 도구에서 치명적인 문제 없음

**보안 및 성능**:
- [ ] **의존성**: 알려진 보안 취약점 없음
- [ ] **성능**: 성능 저하(regression) 없음
- [ ] **메모리**: 메모리 누수나 자원 문제 없음
- [ ] **오류 처리**: 적절한 오류 처리 구현됨

**문서화**:
- [ ] **코드 주석**: 복잡한 로직 문서화됨
- [ ] **API 문서**: 공개 인터페이스 문서화됨
- [ ] **README**: 필요 시 사용법 지침 업데이트됨

**수동 테스팅**:
- [ ] **기능성**: 기능이 예상대로 작동함
- [ ] **엣지 케이스**: 경계 조건 테스트됨
- [ ] **오류 상태**: 오류 처리 검증됨

**검증 명령어**:
```bash
[Same as Phase 1 - customize for your project]
```

**수동 테스트 체크리스트**:
- [ ] 테스트 케이스 1: [검증할 구체적 시나리오]
- [ ] 테스트 케이스 2: [검증할 엣지 케이스]
- [ ] 테스트 케이스 3: [검증할 오류 처리]

---

### Phase 3: [강화/개선 Phase 이름]
**목표**: [구체적 결과물]
**예상 시간**: X 시간
**상태**: ⏳ 대기 | 🔄 진행 중 | ✅ 완료

#### 작업

**🔴 RED: 실패하는 테스트 먼저 작성**
- [ ] **테스트 3.1**: [구체적 기능]에 대한 단위 테스트 작성
  - 파일: `test/unit/[feature]/[component]_test.*`
  - 예상: 기능이 아직 없으므로 테스트 실패 (Red)
  - 세부사항: 다음을 포함하는 테스트 케이스:
    - 해피 패스 시나리오
    - 엣지 케이스
    - 오류 조건

- [ ] **테스트 3.2**: [컴포넌트 상호작용]에 대한 통합 테스트 작성
  - 파일: `test/integration/[feature]_test.*`
  - 예상: 통합이 아직 없으므로 테스트 실패 (Red)
  - 세부사항: [목록 컴포넌트] 간의 상호작용 테스트

**🟢 GREEN: 테스트 통과를 위한 구현**
- [ ] **작업 3.3**: [컴포넌트/모듈] 구현
  - 파일: `src/[layer]/[component].*`
  - 목표: 최소한의 코드로 테스트 3.1 통과
  - 세부사항: [구현 노트]

- [ ] **작업 3.4**: [통합/글루 코드] 구현
  - 파일: `src/[layer]/[integration].*`
  - 목표: 테스트 3.2 통과
  - 세부사항: [구현 노트]

**🔵 REFACTOR: 코드 정리**
- [ ] **작업 3.5**: 코드 품질을 위한 리팩터링
  - 파일: 이 Phase의 모든 새 코드 검토
  - 목표: 테스트를 깨뜨리지 않고 설계 개선
  - 체크리스트:
    - [ ] 중복 제거 (DRY 원칙)
    - [ ] 네이밍 명확성 개선
    - [ ] 재사용 가능한 컴포넌트 추출
    - [ ] 인라인 문서 추가
    - [ ] 필요 시 성능 최적화

#### Quality Gate ✋

**⚠️ 정지: 모든 체크가 통과할 때까지 진행하지 마시오**

**TDD 준수** (중요):
- [ ] **Red Phase**: 테스트를 먼저 작성했고 초기에 실패했음
- [ ] **Green Phase**: 테스트를 통과시키기 위해 프로덕션 코드를 작성했음
- [ ] **Refactor Phase**: 테스트가 통과하는 상태에서 코드를 개선했음
- [ ] **커버리지 체크**: 테스트 커버리지가 요구사항을 충족함

**빌드 및 테스트**:
- [ ] **빌드**: 프로젝트가 오류 없이 빌드/컴파일됨
- [ ] **모든 테스트 통과**: 100% 테스트 통과 (건너뛴 테스트 없음)
- [ ] **테스트 성능**: 테스트 스위트가 허용 가능한 시간 내에 완료됨
- [ ] **Flaky 테스트 없음**: 테스트가 일관되게 통과함 (3회 이상 실행)

**코드 품질**:
- [ ] **린트(Linting)**: 린트 오류나 경고 없음
- [ ] **포맷팅**: 프로젝트 표준에 따라 코드 포맷팅됨
- [ ] **타입 안전성**: 타입 체커 통과 (해당되는 경우)
- [ ] **정적 분석**: 정적 분석 도구에서 치명적인 문제 없음

**보안 및 성능**:
- [ ] **의존성**: 알려진 보안 취약점 없음
- [ ] **성능**: 성능 저하(regression) 없음
- [ ] **메모리**: 메모리 누수나 자원 문제 없음
- [ ] **오류 처리**: 적절한 오류 처리 구현됨

**문서화**:
- [ ] **코드 주석**: 복잡한 로직 문서화됨
- [ ] **API 문서**: 공개 인터페이스 문서화됨
- [ ] **README**: 필요 시 사용법 지침 업데이트됨

**수동 테스팅**:
- [ ] **기능성**: 기능이 예상대로 작동함
- [ ] **엣지 케이스**: 경계 조건 테스트됨
- [ ] **오류 상태**: 오류 처리 검증됨

**검증 명령어**:
```bash
[Same as previous phases - customize for your project]
```

**수동 테스트 체크리스트**:
- [ ] 테스트 케이스 1: [검증할 구체적 시나리오]
- [ ] 테스트 케이스 2: [검증할 엣지 케이스]
- [ ] 테스트 케이스 3: [검증할 오류 처리]

---

## ⚠️ 리스크 평가

| 리스크 | 확률 | 영향 | 완화 전략 |
|--------|------|------|-----------|
| [리스크 1: 예: API 변경으로 인한 통합 깨짐] | 낮음/중간/높음 | 낮음/중간/높음 | [구체적 완화 조치] |
| [리스크 2: 예: 성능 저하] | 낮음/중간/높음 | 낮음/중간/높음 | [구체적 완화 조치] |
| [리스크 3: 예: 데이터베이스 마이그레이션 문제] | 낮음/중간/높음 | 낮음/중간/높음 | [구체적 완화 조치] |

---

## 🔄 롤백 전략

### Phase 1 실패 시
**되돌리기 단계**:
- 코드 변경 취소: [파일 목록]
- 설정 복구: [구체적 설정]
- 의존성 제거: [추가된 경우]

### Phase 2 실패 시
**되돌리기 단계**:
- Phase 1 완료 상태로 복구
- 코드 변경 취소: [파일 목록]
- 데이터베이스 롤백: [해당되는 경우]

### Phase 3 실패 시
**되돌리기 단계**:
- Phase 2 완료 상태로 복구
- [추가 정리 단계]

---

## 📊 진행 상황 추적

### 완료 상태
- **Phase 1**: ⏳ 0% | 🔄 50% | ✅ 100%
- **Phase 2**: ⏳ 0% | 🔄 50% | ✅ 100%
- **Phase 3**: ⏳ 0% | 🔄 50% | ✅ 100%

**전체 진행률**: X% 완료

### 시간 추적
| Phase | 예상 | 실제 | 차이 (Variance) |
|-------|------|------|-----------------|
| Phase 1 | X 시간 | Y 시간 | +/- Z 시간 |
| Phase 2 | X 시간 | - | - |
| Phase 3 | X 시간 | - | - |
| **합계** | X 시간 | Y 시간 | +/- Z 시간 |

---

## 📝 참고 및 배운 점

### 구현 노트
- [구현 중 발견한 통찰 추가]
- [원래 계획과 다르게 결정한 사항 기록]
- [도움이 되는 디버깅 발견 사항 기록]

### 발생한 차단 요소 (Blockers)
- **Blocker 1**: [설명] → [해결책]
- **Blocker 2**: [설명] → [해결책]

### 향후 계획을 위한 개선점
- [다음에는 무엇을 다르게 할 것인가?]
- [무엇이 특히 잘 작동했는가?]

---

## 📚 참조

### 문서
- [관련 문서 링크]
- [API 참조 링크]
- [디자인 목업 링크]

### 관련 이슈
- Issue #X: [설명]
- PR #Y: [설명]

---

## ✅ 최종 체크리스트

**계획을 완료(COMPLETE)로 표시하기 전**:
- [ ] 모든 Phase가 완료되었고 Quality Gate를 통과함
- [ ] 전체 통합 테스트 수행됨
- [ ] 문서 업데이트됨
- [ ] 성능 벤치마크가 목표를 충족함
- [ ] 보안 검토 완료됨
- [ ] 접근성 요구사항 충족됨 (UI 기능인 경우)
- [ ] 모든 이해관계자에게 알림
- [ ] 계획 문서가 향후 참조를 위해 보관됨

---

## 📖 TDD 예시 워크플로우

### 예시: 사용자 인증 기능 추가

**Phase 1: RED (실패하는 테스트 작성)**

```
# Pseudocode - adapt to your testing framework

test "should validate user credentials":
  // Arrange
  authService = new AuthService(mockDatabase)
  validCredentials = {username: "user", password: "pass"}

  // Act
  result = authService.authenticate(validCredentials)

  // Assert
  expect(result.isSuccess).toBe(true)
  expect(result.user).toBeDefined()
  // TEST FAILS - AuthService doesn't exist yet
```

**Phase 2: GREEN (최소 구현)**

```
class AuthService:
  function authenticate(credentials):
    // Minimal code to make test pass
    user = database.findUser(credentials.username)
    if user AND user.password == credentials.password:
      return Success(user)
    return Failure("Invalid credentials")
    // TEST PASSES - minimal functionality works
```

**Phase 3: REFACTOR (설계 개선)**

```
class AuthService:
  function authenticate(credentials):
    // Add validation
    if not this.validateCredentials(credentials):
      return Failure("Invalid input")

    // Add error handling
    try:
      user = database.findUser(credentials.username)

      // Use secure password comparison
      if user AND this.secureCompare(user.password, credentials.password):
        return Success(user)

      return Failure("Invalid credentials")
    catch DatabaseError as error:
      logger.error(error)
      return Failure("Authentication failed")
    // TESTS STILL PASS - improved code quality
```

### TDD Red-Green-Refactor 주기 시각화

```
Phase 1: 🔴 RED
├── 기능 X에 대한 테스트 작성
├── 테스트 실행 → 실패 ❌
└── 커밋: "X에 대한 실패하는 테스트 추가"

Phase 2: 🟢 GREEN
├── 최소한의 코드 작성
├── 테스트 실행 → 통과 ✅
└── 커밋: "테스트 통과를 위해 X 구현"

Phase 3: 🔵 REFACTOR
├── 코드 품질 개선
├── 테스트 실행 → 여전히 통과 ✅
├── 헬퍼 메서드 추출
├── 테스트 실행 → 여전히 통과 ✅
├── 네이밍 개선
├── 테스트 실행 → 여전히 통과 ✅
└── 커밋: "더 나은 설계를 위해 X 리팩터링"

다음 기능으로 반복 →
```

### 이 접근 방식의 이점

**안전성**: 테스트가 회귀(regression)를 즉시 포착
**설계**: 테스트가 API 설계를 먼저 생각하게 강제함
**문서화**: 테스트가 예상 동작을 문서화함
**자신감**: 무언가 깨뜨릴 두려움 없이 리팩터링 가능
**품질**: 첫날부터 더 높은 코드 커버리지
**디버깅**: 실패가 정확한 문제 영역을 가리킴

---

**계획 상태**: 🔄 진행 중
**다음 조치**: [다음에 해야 할 일]
**차단 요소 (Blocked By)**: [현재 차단 요소] 또는 없음
